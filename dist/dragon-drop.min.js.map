{"version":3,"file":"dragon-drop.min.js","sources":["dragon-drop.js"],"names":["util","REPEATER_EXP","DragDirection","FIRST","PREV","NEXT","LAST","_debug","console","debug","window","DEBUG","indexOf","call","format","apply","arguments","angular","module","directive","$document","$compile","$rootScope","$http","$templateCache","$window","dragValue","dragKey","lastOverElement","jsObject","placeholder","placeholderTemplate","floaty","offsetX","offsetY","fixed","dragDuplicate","dragEliminate","mouseReleased","documentBody","element","body","mouse","x","y","addEventListener","e","clientX","pageX","clientY","pageY","check","attr","elem","isDefined","isFixed","i","parents","parent","len","length","hasAttribute","drag","ev","elm","direction","whereBeDragons","getElementBehindPoint","isPlaceholder","oldPlaceholder","findParentDragon","getDragDirection","getElementOffset","remove","newPlaceholder","isBase","container","findContainer","insertBefore","firstChild","nextSibling","appendChild","css","parentOffset","parentCompare","p","f","midheight","offsetHeight","top","bottom","isSortItem","isContainer","isDragon","item","found","current","parentElement","collection","index","isArray","splice","temp","add","key","position","pos","children","find","disableSelect","-moz-user-select","-khtml-user-select","-webkit-user-select","-ms-user-select","user-select","enableSelect","killFloaty","$broadcast","unbind","scope","$destroy","elt","box","getBoundingClientRect","documentElement","xPosition","left","scrollLeft","yPosition","scrollTop","height","behind","originalDisplay","elementFromPoint","verticalSortPosition","dropArea","positions","min","max","push","j","leni","lenj","totalHeight","smallestTop","Number","POSITIVE_INFINITY","getClientRects","undefined","attributes","bind","accepts","$eval","sortDirection","isList","expression","dropCallback","targetScope","match","targetList","targetCallback","$apply","isFunction","restrict","compile","dragon","Error","iterateItem","enumerableCollection","valueIdentifier","keyIdentifier","template","html","trim","child","clone","append","duplicate","eliminate","placeholderUrl","dragonAccepts","instanceTemplate","get","spawnFloaty","style","cssText","getComputedStyle","floatyScope","$new","button","tag","tagName","target","method","url","cache","then","result","data","preventDefault","originElement","originScope","$parent","offset","copy","placeholderCandidate","eltChildren","isUndefined","after","inspect","o","r","t","join","formatRegExp","objects","args","str","String","replace","JSON","stringify"],"mappings":"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"}